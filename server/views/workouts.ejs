<!-- Include the shared header partial (remove duplicate include above) -->
<%- include('partials/header') %>

<!-- Main container with spacing below the fixed header -->
<div class="container" style="margin-top:80px;">
  <!-- Page title passed in from the route -->
  <h1><%= title %></h1>

  <!-- If there are no workouts saved, show a message -->
  <% if (workouts.length === 0) { %>
    <p>No workouts saved yet. Add one from the <a href="/entries">Entries page</a>.</p>
  <% } else { %>
    <!-- Otherwise, display workouts in a table -->
    <table class="table table-striped table-hover">
      <thead class="text-center">
        <tr>
          <th></th> <!-- Column for delete button -->
          <th class="text-start">Workout Title</th>
          <th><span style="float: left; padding-left: 50px;">Date</span></th>
          <th class="text-start">Workout Time</th>
          <th class="text-start">Target Areas</th>
          <th class="text-start">Exercise List</th>
          <th class="text-start">Reflection</th>
        </tr>
      </thead>
      <tbody>
        <!-- Loop through each workout and display its details -->
        <% workouts.forEach(workout => { %>
          <tr>
            <td>
              <!-- Delete button with confirmation -->
              <form action="/workouts/delete/<%= workout._id %>" method="POST" onsubmit="return confirm('Delete this workout?');">
                <button class="btn btn-danger btn-sm">Delete</button>
              </form>
            </td>
            <!-- Display workout fields -->
            <td><%= workout.WorkoutTitle %></td>
            <td><%= workout.Date %></td>
            <td><%= workout.WorkoutTime %></td>
            <td><%= workout.TargetAreas %></td>
            <td><%= workout.ExerciseList %></td>
            <td><%= workout.Reflection %></td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>
</div>

<!-- Include the shared footer partial (remove duplicate include below) -->
<%- include('partials/footer') %>